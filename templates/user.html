{% load static %}
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>用户中心</title>
    <link rel="stylesheet" href="{% static 'user_center/css/amazeui.css' %}"/>
    <link rel="stylesheet" href="{% static 'user_center/css/core.css' %}"/>
    <link rel="stylesheet" href="{% static 'user_center/css/menu.css' %}"/>
    <link rel="stylesheet" href="{% static 'user_center/css/index.css' %}"/>
    <link rel="stylesheet" href="{% static 'user_center/css/admin.css' %}"/>
    <link rel="stylesheet" href="{% static 'user_center/css/page/typography.css' %}"/>
    <link rel="stylesheet" href="{% static 'user_center/css/page/form.css' %}"/>
    <link rel="stylesheet" href="{% static 'user_center/css/component.css' %}"/>
</head>
<body>
<!-- Begin page -->
<header class="am-topbar am-topbar-fixed-top">
    <div class="am-topbar-left am-hide-sm-only">
        <a href="{% url 'user_center' %}" class="logo"><span>{{ user_name }}<span></span></span><i
                class="zmdi zmdi-layers"></i></a>
    </div>

    <div class="contain">
        <ul class="am-nav am-navbar-nav am-navbar-left">

            <li><h4 class="page-title">
                {% block title %}
                    基本信息
                {% endblock %}
            </h4></li>
        </ul>

        <ul class="am-nav am-navbar-nav am-navbar-right">
            <li class="inform"><i class="am-icon-bell-o" aria-hidden="true"></i></li>
            <li class="hidden-xs am-hide-sm-only">
                <form role="search" class="app-search">
                    <input type="text" placeholder="Search..." class="form-control">
                    <a href=""><img src="{% static 'user_center/img/search.png' %}"></a>
                </form>
            </li>
        </ul>
    </div>
</header>
<!-- end page -->


<div class="admin">
    <!--<div class="am-g">-->
    <!-- ========== Left Sidebar Start ========== -->
    <!--<div class="left side-menu am-hide-sm-only am-u-md-1 am-padding-0">
        <div class="slimScrollDiv" style="position: relative; overflow: hidden; width: auto; height: 548px;">
            <div class="sidebar-inner slimscrollleft" style="overflow: hidden; width: auto; height: 548px;">-->
    <!-- sidebar start -->
    <div class="admin-sidebar am-offcanvas  am-padding-0" id="admin-offcanvas">
        <div class="am-offcanvas-bar admin-offcanvas-bar">
            <!-- User -->
            <div class="user-box am-hide-sm-only">
                <div class="user-img">
                    <img src="{% static 'user_center/img/avatar-1.jpg' %}" alt="user-img" title="Mat Helme"
                         class="img-circle img-thumbnail img-responsive">
                    <div class="user-status offline"><i class="am-icon-dot-circle-o" aria-hidden="true"></i></div>
                </div>
                <h5><a href="#">{{ user_name }}</a></h5>
                <ul class="list-inline">
                    <li>
                        <a href="#">
                            <i class="fa fa-cog" aria-hidden="true"></i>
                        </a>
                    </li>

                    <li>
                        <a href="#" class="text-custom">
                            <i class="fa fa-cog" aria-hidden="true"></i>
                        </a>
                    </li>
                </ul>
            </div>
            <!-- End User -->

            <ul class="am-list admin-sidebar-list">
                <li><a href="{% url 'home_page' %}"><span class="am-icon-home"></span> 首页</a></li>
                <li class="admin-parent">
                    <a class="am-cf" data-am-collapse="{target: '#collapse-nav1'}">
                        <span class="am-icon-table"></span>
                        表格
                        <span class="am-icon-angle-right am-fr am-margin-right"></span></a>
                    <ul class="am-list am-collapse admin-sidebar-sub am-in" id="collapse-nav1">
                        <li><a href="{% url 'basic_table' %}" class="am-cf"><span>基本表格</span></a></li>
                        <li><a href="{% url 'complete_table' %}">完整表格</a></li>
                    </ul>
                </li>
                <li class="admin-parent">
                    <a class="am-cf" data-am-collapse="{target: '#collapse-nav2'}"><i class="am-icon-line-chart"
                                                                                      aria-hidden="true"></i> 统计图表 <span
                            class="am-icon-angle-right am-fr am-margin-right"></span></a>
                    <ul class="am-list am-collapse admin-sidebar-sub am-in" id="collapse-nav2">
                        <li><a href="{% url 'line_chart' %}" class="am-cf"> <span>折线图</span></a></li>
                        <li><a href="{% url 'columnar_chart' %}" class="am-cf"> <span>柱状图</span></a></li>
                        <li><a href="{% url 'pie_chart' %}" class="am-cf"> <span>饼状图</span></a></li>
                    </ul>
                </li>
                {#                <li class="admin-parent">#}
                {#                    <a class="am-cf" data-am-collapse="{target: '#collapse-nav5'}"><span class="am-icon-file"></span> 表单#}
                {#                        <span class="am-icon-angle-right am-fr am-margin-right"></span></a>#}
                {#                    <ul class="am-list am-collapse admin-sidebar-sub am-in" id="collapse-nav5">#}
                {#                        <li><a href="html/form_basic.html" class="am-cf"> 基本表单</a></li>#}
                {#                        <li><a href="html/form_validate.html">表单验证</a></li>#}
                {#                    </ul>#}
                {#                </li>#}
            </ul>
        </div>
    </div>
    <!-- sidebar end -->

    <!--</div>
</div>
</div>-->
    <!-- ========== Left Sidebar end ========== -->


    <!--	<div class="am-g">-->
    <!-- ============================================================== -->
    <!-- Start right Content here -->
    {% block right_content %}
        <div class="content-page">
            <!-- Start content -->
            <div class="content">
                <div class="am-g">
                    <!-- Row start -->
                    <div class="am-u-md-3">
                        <div class="card-box">
                            <h4 class="header-title m-t-0 m-b-30">消费卡总支出</h4>
                            <div class="widget-chart-1 am-cf">
                                <div id="widget-chart-box-1" style="height: 110px;width: 110px;float: left;">
                                </div>

                                <div class="widget-detail-1" style="float: right;">
                                    <h2 class="p-t-10 m-b-0">￥ {{ all_costs }} </h2>
                                    <p class="text-muted"></p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- col end -->
                    <div class="am-u-md-3">
                        <div class="card-box">
                            <h4 class="header-title m-t-0 m-b-30">消费卡总收入</h4>
                            <div class="widget-chart-1 am-cf">
                                <div id="widget-chart-box-2" style="height: 110px;width: 110px;float: left;">
                                </div>

                                <div class="widget-detail-1" style="float: right;">
                                    <h2 class="p-t-10 m-b-0">￥ {{ income }} </h2>
                                    <p class="text-muted"></p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- col end -->
                    <div class="am-u-md-3">
                        <div class="card-box">
                            <h4 class="header-title m-t-0 m-b-30">销售分析</h4>
                            <div class="widget-box-2">
                                <div class="widget-detail-2">
                                <span class="badge  pull-left m-t-20  am-round"
                                      style="color: #fff; background: #0e90d2;">32% <i
                                        class="zmdi zmdi-trending-up"></i> </span>
                                    <h2 class="m-b-0"> 8451 </h2>
                                    <p class="text-muted m-b-25">Revenue today</p>
                                </div>
                                <div class="am-progress am-progress-xs am-margin-bottom-0">
                                    <div class="am-progress-bar" style="width: 80%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- col end -->
                    <div class="am-u-md-3">
                        <div class="card-box">
                            <h4 class="header-title m-t-0 m-b-30">销售分析</h4>
                            <div class="widget-box-2">
                                <div class="widget-detail-2">
                                <span class="badge  pull-left m-t-20  am-round progress-bar-pink" style="color: #fff;">32% <i
                                        class="zmdi zmdi-trending-up"></i> </span>
                                    <h2 class="m-b-0"> 8451 </h2>
                                    <p class="text-muted m-b-25">Revenue today</p>
                                </div>
                                <div class="am-progress am-progress-xs am-margin-bottom-0"
                                     style="background: rgba(255, 138, 204, 0.2);">
                                    <div class="am-progress-bar progress-bar-pink" style="width: 80%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Row end -->
                </div>

                <div class="am-g">
                    <!-- Row start -->
                    <div class="am-u-md-4">
                        <div class="card-box">
                            <h4 class="header-title m-t-0">消费类型</h4>
                            <div id="index-pie-1" style="height: 345px;height: 300px;"></div>
                        </div>
                    </div>

                    <div class="am-u-md-4">
                        <div class="card-box">
                            <h4 class="header-title m-t-0">支出与消费</h4>
                            <div id="index-line-1" style="height: 345px;height: 300px;"></div>
                        </div>
                    </div>
                    <div class="am-u-md-4">
                        <div class="card-box">
                            <h4 class="header-title m-t-0">一周借阅</h4>
                            <div id="index-bar-1" style="height: 345px;height: 300px;"></div>
                        </div>
                    </div>


                    <!-- Row end -->
                </div>

                <div class="am-g">
                    <!-- Row start -->
                    <div class="am-u-md-3">
                        <div class="card-box widget-user">
                            <div>
                                <img src="{% static 'user_center/img/avatar-3.jpg' %}" class="img-responsive img-circle"
                                     alt="user">
                                <div class="wid-u-info">
                                    <h4 class="m-t-0 m-b-5 font-600">Chadengle</h4>
                                    <p class="text-muted m-b-5 font-13">coderthemes@gmail.com</p>
                                    <small class="text-warning"><b>管理员</b></small>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- col end -->
                    <div class="am-u-md-3">
                        <div class="card-box widget-user">
                            <div>
                                <img src="{% static 'user_center/img/avatar-2.jpg' %}" class="img-responsive img-circle"
                                     alt="user">
                                <div class="wid-u-info">
                                    <h4 class="m-t-0 m-b-5 font-600">Chadengle</h4>
                                    <p class="text-muted m-b-5 font-13">coderthemes@gmail.com</p>
                                    <small class="text-custom"><b>网络组主管</b></small>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- col end -->
                    <div class="am-u-md-3">
                        <div class="card-box widget-user">
                            <div>
                                <img src="{% static 'user_center/img/avatar-4.jpg' %}" class="img-responsive img-circle"
                                     alt="user">
                                <div class="wid-u-info">
                                    <h4 class="m-t-0 m-b-5 font-600">Chadengle</h4>
                                    <p class="text-muted m-b-5 font-13">coderthemes@gmail.com</p>
                                    <small class="text-success"><b>设计师</b></small>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- col end -->
                    <div class="am-u-md-3">
                        <div class="card-box widget-user">
                            <div>
                                <img src="{% static 'user_center/img/avatar-10.jpg' %}"
                                     class="img-responsive img-circle"
                                     alt="user">
                                <div class="wid-u-info">
                                    <h4 class="m-t-0 m-b-5 font-600">Chadengle</h4>
                                    <p class="text-muted m-b-5 font-13">coderthemes@gmail.com</p>
                                    <small class="text-info"><b>开发者</b></small>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- col end -->
                    <!-- Row end -->
                </div>


                <!-- Row start -->
                <div class="am-g">
                    <!-- col start -->
                    <div class="am-u-md-4">
                        <div class="card-box">
                            <h4 class="header-title m-t-0 m-b-30">收件箱</h4>
                            <div class="inbox-widget nicescroll" style="height: 315px; overflow: hidden; outline: none;"
                                 tabindex="5000">
                                <a href="#">
                                    <div class="inbox-item">
                                        <div class="inbox-item-img"><img
                                                src="{% static 'user_center/img/avatar-1.jpg' %}"
                                                class="img-circle"
                                                alt=""></div>
                                        <p class="inbox-item-author">Chadengle</p>
                                        <p class="inbox-item-text">Hey! there I'm available...</p>
                                        <p class="inbox-item-date">13:40 PM</p>
                                    </div>
                                </a>
                                <a href="#">
                                    <div class="inbox-item">
                                        <div class="inbox-item-img"><img
                                                src="{% static 'user_center/img/avatar-2.jpg' %}"
                                                class="img-circle"
                                                alt=""></div>
                                        <p class="inbox-item-author">Shahedk</p>
                                        <p class="inbox-item-text">Hey! there I'm available...</p>
                                        <p class="inbox-item-date">10:15 AM</p>
                                    </div>
                                </a>
                                <a href="#">
                                    <div class="inbox-item">
                                        <div class="inbox-item-img"><img
                                                src="{% static 'user_center/img/avatar-10.jpg' %}"
                                                class="img-circle"
                                                alt=""></div>
                                        <p class="inbox-item-author">Tomaslau</p>
                                        <p class="inbox-item-text">I've finished it! See you so...</p>
                                        <p class="inbox-item-date">13:34 PM</p>
                                    </div>
                                </a>
                                <a href="#">
                                    <div class="inbox-item">
                                        <div class="inbox-item-img"><img
                                                src="{% static 'user_center/img/avatar-4.jpg' %}"
                                                class="img-circle"
                                                alt=""></div>
                                        <p class="inbox-item-author">Stillnotdavid</p>
                                        <p class="inbox-item-text">This theme is awesome!</p>
                                        <p class="inbox-item-date">13:17 PM</p>
                                    </div>
                                </a>
                                <a href="#">
                                    <div class="inbox-item">
                                        <div class="inbox-item-img"><img
                                                src="{% static 'user_center/img/avatar-5.jpg' %}"
                                                class="img-circle"
                                                alt=""></div>
                                        <p class="inbox-item-author">Kurafire</p>
                                        <p class="inbox-item-text">Nice to meet you</p>
                                        <p class="inbox-item-date">12:20 PM</p>
                                    </div>
                                </a>
                            </div>
                        </div>
                    </div>
                    <!-- col end -->

                    <!-- col start -->
                    <div class="am-u-md-8">
                        <div class="card-box">
                            <h4 class="header-title m-t-0 m-b-30">最新项目</h4>
                            <div class="am-scrollable-horizontal am-text-ms" style="font-family: '微软雅黑';">
                                <table class="am-table   am-text-nowrap">
                                    <thead>
                                    <tr>
                                        <th>#</th>
                                        <th>项目名称</th>
                                        <th>开始时间</th>
                                        <th>结束时间</th>
                                        <th>状态</th>
                                        <th>责任人</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr>
                                        <td>1</td>
                                        <td>Adminto Admin v1</td>
                                        <td>01/01/2016</td>
                                        <td>26/04/2016</td>
                                        <td><span class="label label-danger">已发布</span></td>
                                        <td>Coderthemes</td>
                                    </tr>
                                    <tr>
                                        <td>2</td>
                                        <td>Adminto Frontend v1</td>
                                        <td>01/01/2016</td>
                                        <td>26/04/2016</td>
                                        <td><span class="label label-success">已发布</span></td>
                                        <td>Adminto admin</td>
                                    </tr>
                                    <tr>
                                        <td>3</td>
                                        <td>Adminto Admin v1.1</td>
                                        <td>01/05/2016</td>
                                        <td>10/05/2016</td>
                                        <td><span class="label label-pink">未开展</span></td>
                                        <td>Coderthemes</td>
                                    </tr>
                                    <tr>
                                        <td>4</td>
                                        <td>Adminto Frontend v1.1</td>
                                        <td>01/01/2016</td>
                                        <td>31/05/2016</td>
                                        <td><span class="label label-purple">进行中</span>
                                        </td>
                                        <td>Adminto admin</td>
                                    </tr>
                                    <tr>
                                        <td>5</td>
                                        <td>Adminto Admin v1.3</td>
                                        <td>01/01/2016</td>
                                        <td>31/05/2016</td>
                                        <td><span class="label label-warning">即将开始</span></td>
                                        <td>Coderthemes</td>
                                    </tr>

                                    <tr>
                                        <td>6</td>
                                        <td>Adminto Admin v1.3</td>
                                        <td>01/01/2016</td>
                                        <td>31/05/2016</td>
                                        <td><span class="label label-primary">即将开始</span></td>
                                        <td>Adminto admin</td>
                                    </tr>

                                    <tr>
                                        <td>7</td>
                                        <td>Adminto Admin v1.3</td>
                                        <td>01/01/2016</td>
                                        <td>31/05/2016</td>
                                        <td><span class="label label-primary">即将开始</span></td>
                                        <td>Adminto admin</td>
                                    </tr>

                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <!-- col end -->
                </div>
            </div>
        </div>
    {% endblock %}

    <!-- end right Content here -->
    <!--</div>-->
</div>
</div>

<!-- navbar -->
<a href="admin-offcanvas" class="am-icon-btn am-icon-th-list am-show-sm-only admin-menu"
   data-am-offcanvas="{target: '#admin-offcanvas'}"><!--<i class="fa fa-bars" aria-hidden="true"></i>--></a>

<script type="text/javascript" src="{% static 'user_center/js/jquery-2.1.0.js' %}"></script>
<script type="text/javascript" src="{% static 'user_center/js/amazeui.min.js' %}"></script>
<script type="text/javascript" src="{% static 'user_center/js/app.js' %}"></script>
<script type="text/javascript" src="{% static 'user_center/js/blockUI.js' %}"></script>
<script type="text/javascript" src="{% static 'user_center/js/charts/echarts.min.js' %}"></script>
<script type="text/javascript" src="{% static 'user_center/js/charts/indexChart.js' %}"></script>

</body>
{% block js %}
    <script>
        (function () {
            var myChart = echarts.init(document.getElementById("index-pie-1"));
            var records ={{ shopping_records|safe }};
            option = {
                tooltip: {
                    trigger: 'item',
                    formatter: "{a} <br/>{b} : {c} ({d}%)"
                },
                legend: {
                    orient: 'vertical',
                    x: 'left',
                    data: ['POS消费', '水控消费', '车载消费', '余额转移', '支付交易', '圈存转账', '喜付电控转账', 'POS消费冲正', '交易冲正']
                },
                toolbox: {
                    show: true,
                    feature: {
                        mark: {show: true},
                        dataView: {show: true, readOnly: false},
                        magicType: {
                            show: true,
                            type: ['pie', 'funnel'],
                            option: {
                                funnel: {
                                    x: '25%',
                                    width: '50%',
                                    funnelAlign: 'center',
                                    max: 1548
                                }
                            }
                        },
                        restore: {show: true},
                        saveAsImage: {show: true}
                    }
                },
                calculable: true,
                series: [
                    {
                        name: '消费方式',
                        type: 'pie',
                        radius: ['50%', '70%'],
                        itemStyle: {
                            normal: {
                                label: {
                                    show: false
                                },
                                labelLine: {
                                    show: false
                                }
                            },
                            emphasis: {
                                label: {
                                    show: true,
                                    position: 'center',
                                    textStyle: {
                                        fontSize: '20',
                                        fontWeight: 'bold'
                                    }
                                }
                            }
                        },
                        data: [
                            {value: records[0], name: 'POS消费'},
                            {value: records[1], name: '水控消费'},
                            {value: records[2], name: '车载消费'},
                            {value: records[3], name: '余额转移'},
                            {value: records[4], name: '支付交易'},
                            {value: records[5], name: '圈存转账'},
                            {value: records[6], name: '喜付电控转账'},
                            {value: records[7], name: 'POS消费冲正'},
                            {value: records[8], name: '交易冲正'}
                        ]
                    }
                ]
            };


            myChart.setOption(option);
        })();

        (function () {
            var myChart = echarts.init(document.getElementById("index-bar-1"));
            var records ={{ shopping_records|safe }};
            option = {
                color: ['#3398DB'],
                tooltip: {
                    trigger: 'axis',
                    axisPointer: {            // 坐标轴指示器，坐标轴触发有效
                        type: 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
                    }
                },
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '3%',
                    containLabel: true
                },
                xAxis: [
                    {
                        type: 'category',
                        data: ['星期一', '星期二', '星期三', '星期四', '星期五', '星期六', '星期日'],
                        axisTick: {
                            alignWithLabel: true
                        }
                    }
                ],
                yAxis: [
                    {
                        type: 'value'
                    }
                ],
                series: [
                    {
                        name: '阅读量',
                        type: 'bar',
                        barWidth: '60%',
                        data: [10, 52, 200, 334, 390, 330, 220]
                    }
                ]
            };


            myChart.setOption(option);
        })();

        (function () {
            var myChart = echarts.init(document.getElementById("widget-chart-box-1"));
            var myChart2 = echarts.init(document.getElementById("widget-chart-box-2"));
            var record1 = {{ all_costs }};
            var record2 = {{ today_costs }};
            var record3 = {{ income }};
            var record4 = {{ today_income }};

            var labelTop = {

                normal: {
                    label: {
                        show: true,
                        position: 'center',
                        formatter: '{b}',
                        textStyle: {
                            baseline: 'bottom'
                        }
                    },
                    labelLine: {
                        show: false
                    }

                }
            };
            var labelFromatter = {
                normal: {
                    label: {
                        formatter: function (params) {
                            return 100 - params.value + '%'
                        },
                        textStyle: {
                            baseline: 'center'
                        }
                    }
                },
            }
            var labelBottom = {
                normal: {
                    color: '#ccc',
                    label: {
                        show: true,
                        position: 'center'
                    },
                    labelLine: {
                        show: false
                    }
                },
                emphasis: {
                    color: '#ccc'
                }
            };
            var radius = [40, 35];
            option1 = {


                legend: {
                    x: 'center',
                    y: 'center',

                },

                grid: {
                    x: 0,
                    y: 0,
                    x2: 0,
                    y2: 0
                },

                toolbox: {
                    show: true,
                    feature: {
                        magicType: {
                            show: true,
                            type: ['pie', 'funnel'],
                            option: {
                                funnel: {
                                    width: '20%',
                                    height: '30%',
                                    itemStyle: {
                                        normal: {
                                            label: {
                                                formatter: function (params) {
                                                    return 'other\n' + params.value + '%\n'
                                                },
                                                textStyle: {
                                                    baseline: 'middle'
                                                }
                                            }
                                        },
                                    }
                                }
                            }
                        }

                    }
                },
                series: [
                    {
                        type: 'pie',

                        radius: radius,
                        x: '0%', // for funnel
                        itemStyle: labelFromatter,
                        data: [
                            {name: 'other', value: record1 / (record1 + record2), itemStyle: labelBottom},
                            {name: '', value: record2 / (record1 + record2), itemStyle: labelTop}
                        ]
                    }

                ],
                animation: false
            };
            option2 = {


                legend: {
                    x: 'center',
                    y: 'center',

                },

                grid: {
                    x: 0,
                    y: 0,
                    x2: 0,
                    y2: 0
                },

                toolbox: {
                    show: true,
                    feature: {
                        magicType: {
                            show: true,
                            type: ['pie', 'funnel'],
                            option: {
                                funnel: {
                                    width: '20%',
                                    height: '30%',
                                    itemStyle: {
                                        normal: {
                                            label: {
                                                formatter: function (params) {
                                                    return 'other\n' + params.value + '%\n'
                                                },
                                                textStyle: {
                                                    baseline: 'middle'
                                                }
                                            }
                                        },
                                    }
                                }
                            }
                        }

                    }
                },
                series: [
                    {
                        type: 'pie',

                        radius: radius,
                        x: '0%', // for funnel
                        itemStyle: labelFromatter,
                        data: [
                            {name: 'other', value: record3 / (record3 + record4), itemStyle: labelBottom},
                            {name: '', value: record4 / (record3 + record4), itemStyle: labelTop}
                        ]
                    }

                ],
                animation: false
            };

            myChart.setOption(option1);
            myChart2.setOption(option2);
        })();

        (function () {
            var myChart = echarts.init(document.getElementById("index-line-1"));
            cost = {{ week_cost|safe }};
            income ={{ week_income|safe }};
            option = {

                tooltip: {
                    trigger: 'axis'
                },
                legend: {
                    data: ['收入', '支出'],
                    x: "right"
                },

                xAxis: {
                    type: 'category',
                    boundaryGap: false,
                    data: ['周一', '周二', '周三', '周四', '周五', '周六', '周日']
                },
                yAxis: {
                    type: 'value',
                    axisLabel: {
                        formatter: '￥{value}'
                    }
                },
                series: [
                    {
                        name: '收入',
                        type: 'line',
                        data: income,
                        markPoint: {
                            data: [
                                {type: 'max', name: '最大值'},
                                {type: 'min', name: '最小值'}
                            ]
                        },
                        markLine: {
                            data: [
                                {type: 'average', name: '平均值'}
                            ]
                        }
                    },
                    {
                        name: '支出',
                        type: 'line',
                        data: cost,
                        {#                    markPoint: {#}
                        {#                        data: [#}
                        {#                            {name: '周最低', value: -2, xAxis: 1, yAxis: -1.5}#}
                        {#                        ]#}
                        {#                    },#}
                        markLine: {
                            data: [
                                {type: 'average', name: '平均值'},
                                [{
                                    symbol: 'none',
                                    x: '90%',
                                    yAxis: 'max'
                                }, {
                                    symbol: 'circle',
                                    label: {
                                        normal: {
                                            position: 'start',
                                            formatter: '最大值'
                                        }
                                    },
                                    type: 'max',
                                    name: '最高点'
                                }]
                            ]
                        }
                    }
                ]
            };


            myChart.setOption(option);
        })();
    </script>
{% endblock %}


</html>
